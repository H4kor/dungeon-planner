- better system to deserialize commands (macros might help?)